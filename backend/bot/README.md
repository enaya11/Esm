# ุจูุช SmartCoin ุงูุชููุฌุฑุงู

## ูุธุฑุฉ ุนุงูุฉ

ุจูุช ุงูุชููุฌุฑุงู ุงูุฑุณูู ูููุตุฉ SmartCoin ูููุฑ ูุงุฌูุฉ ุชูุงุนููุฉ ูููุณุชุฎุฏููู ูููุตูู ุฅูู ุฌููุน ููุฒุงุช ุงูููุตุฉ ูุจุงุดุฑุฉ ูู ุงูุชููุฌุฑุงู.

## ุงูููุฒุงุช

### ๐ ุงููุตุงุฏูุฉ ูุงูุชุณุฌูู
- ุชุณุฌูู ุฏุฎูู ุชููุงุฆู ุนุจุฑ ุงูุชููุฌุฑุงู
- ุฅุฏุงุฑุฉ ุฌูุณุงุช ุงููุณุชุฎุฏููู
- ุชุณุฌูู ุฎุฑูุฌ ุขูู

### ๐ฑ ุงููุงุฌูุฉ ุงูุชูุงุนููุฉ
- ุฃุฒุฑุงุฑ ุชูุงุนููุฉ ูููุตูู ุงูุณุฑูุน
- ููุงุฆู ุฅุนุฏุงุฏุงุช ุดุฎุตูุฉ
- ุนุฑุถ ุงูุฅุญุตุงุฆูุงุช ูุงูุจูุงูุงุช

### ๐ ูุธุงู ุงูุฅุดุนุงุฑุงุช ุงููุชูุฏู
- ุฅุดุนุงุฑุงุช ุงูุชุนุฏูู
- ุฅุดุนุงุฑุงุช ุงูุฅุญุงูุงุช
- ุฅุดุนุงุฑุงุช ุฅููุงู ุงูููุงู
- ุชุญูู ูู ุชูุฑุงุฑ ุงูุฅุดุนุงุฑุงุช (Throttling)
- ุณุงุนุงุช ุงููุฏูุก
- ุญุฏูุฏ ููููุฉ ููุฅุดุนุงุฑุงุช

### ๐๏ธ ุฅุฏุงุฑุฉ ุงูุจูุงูุงุช
- ูุงุนุฏุฉ ุจูุงูุงุช SQLite ูุญููุฉ
- ุชุฎุฒูู ุจูุงูุงุช ุงููุณุชุฎุฏููู
- ุฅุฏุงุฑุฉ ุฑููุฒ ุงูุฌูุณุงุช

## ุจููุฉ ุงููููุงุช

```
backend/bot/
โโโ telegramBot.py          # ุงูููู ุงูุฑุฆูุณู ููุจูุช
โโโ bot_config.py           # ุฅุนุฏุงุฏุงุช ุงูุจูุช
โโโ notification_service.py # ุฎุฏูุฉ ุงูุฅุดุนุงุฑุงุช
โโโ requirements.txt        # ูุชุทูุจุงุช Python
โโโ README.md              # ูุฐุง ุงูููู
โโโ bot_users.db           # ูุงุนุฏุฉ ุงูุจูุงูุงุช (ูุชู ุฅูุดุงุคูุง ุชููุงุฆูุงู)
```

## ุงูุชุซุจูุช ูุงูุชุดุบูู

### 1. ุชุซุจูุช ุงููุชุทูุจุงุช

```bash
cd backend/bot
pip install -r requirements.txt
```

### 2. ุฅุนุฏุงุฏ ุงูุจูุช

ุชุฃูุฏ ูู ุฃู ุฅุนุฏุงุฏุงุช ุงูุจูุช ูู `bot_config.py` ุตุญูุญุฉ:

```python
BOT_TOKEN = "7782763042:AAHNKGl9Y65n4Q8JgVQbQvtlLvg_toT2MwA"
WEBAPP_URL = "https://your-domain.com"  # ุฑุงุจุท ุงูุชุทุจูู
API_BASE_URL = "http://localhost:3000/api"  # ุฑุงุจุท API
```

### 3. ุชุดุบูู ุงูุจูุช

```bash
python telegramBot.py
```

ุฃู ููุชุดุบูู ูู ุงูุฎูููุฉ:

```bash
nohup python telegramBot.py &
```

## ุงูุฃูุงูุฑ ุงููุชุงุญุฉ

### ุฃูุงูุฑ ุงููุณุชุฎุฏููู
- `/start` - ุจุฏุก ุงุณุชุฎุฏุงู ุงูุจูุช ูุงูุชุณุฌูู
- `/login` - ุชุณุฌูู ุงูุฏุฎูู
- `/logout` - ุชุณุฌูู ุงูุฎุฑูุฌ
- `/stats` - ุนุฑุถ ุงูุฅุญุตุงุฆูุงุช ุงูุดุฎุตูุฉ
- `/help` - ุนุฑุถ ุงููุณุงุนุฏุฉ

### ุงูุฃุฒุฑุงุฑ ุงูุชูุงุนููุฉ
- **๐ ูุชุญ SmartCoin** - ูุชุญ ุงูุชุทุจูู ูู ุงููุชุตูุญ
- **๐ ุฅุญุตุงุฆูุงุชู** - ุนุฑุถ ุงูุฅุญุตุงุฆูุงุช
- **โ๏ธ ุงูุฅุนุฏุงุฏุงุช** - ูุงุฆูุฉ ุงูุฅุนุฏุงุฏุงุช

## API ุงูุชูุงูู

### ุชุณุฌูู ุงูุฏุฎูู
```
POST /api/auth/telegram-login
{
  "telegram_id": 123456789,
  "username": "user123",
  "first_name": "ุฃุญูุฏ",
  "last_name": "ูุญูุฏ",
  "language_code": "ar"
}
```

### ุงูุญุตูู ุนูู ุงูุฅุญุตุงุฆูุงุช
```
GET /api/users/{telegram_id}/stats
```

## ูุธุงู ุงูุฅุดุนุงุฑุงุช

### ุฅุนุฏุงุฏุงุช ุงูุชุญูู
- **Throttling**: ููุน ุงูุฅุฑุณุงู ุฃูุซุฑ ูู ูุฑุฉ ูู 5 ุฏูุงุฆู ูููุณ ุงูููุน
- **ุญุฏูุฏ ููููุฉ**: ุญุฏ ุฃูุตู 10 ุฅุดุนุงุฑุงุช ููููุงู ููู ูุณุชุฎุฏู
- **ุณุงุนุงุช ุงููุฏูุก**: ูู 10 ูุณุงุกู ุฅูู 8 ุตุจุงุญุงู

### ุฃููุงุน ุงูุฅุดุนุงุฑุงุช
1. **ุฅุดุนุงุฑุงุช ุงูุชุนุฏูู**: ุนูุฏ ุฅููุงู ุนูููุฉ ุงูุชุนุฏูู
2. **ุฅุดุนุงุฑุงุช ุงูุฅุญุงูุงุช**: ุนูุฏ ุงูุถูุงู ูุณุชุฎุฏู ุฌุฏูุฏ ุนุจุฑ ุงูุฅุญุงูุฉ
3. **ุฅุดุนุงุฑุงุช ุงูููุงู**: ุนูุฏ ุฅููุงู ูููุฉ

### ุงุณุชุฎุฏุงู ุฎุฏูุฉ ุงูุฅุดุนุงุฑุงุช

```python
from notification_service import send_mining_notification

# ุฅุฑุณุงู ุฅุดุนุงุฑ ุงูุชุนุฏูู
await send_mining_notification(telegram_id=123456789, amount=10.5)
```

## ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุฌุฏูู ุงููุณุชุฎุฏููู (users)
- `telegram_id` - ูุนุฑู ุงูุชููุฌุฑุงู (ููุชุงุญ ุฃุณุงุณู)
- `username` - ุงุณู ุงููุณุชุฎุฏู
- `first_name` - ุงูุงุณู ุงูุฃูู
- `last_name` - ุงูุงุณู ุงูุฃุฎูุฑ
- `language_code` - ุฑูุฒ ุงููุบุฉ
- `is_registered` - ุญุงูุฉ ุงูุชุณุฌูู
- `registration_date` - ุชุงุฑูุฎ ุงูุชุณุฌูู
- `last_activity` - ุขุฎุฑ ูุดุงุท
- `notification_settings` - ุฅุนุฏุงุฏุงุช ุงูุฅุดุนุงุฑุงุช (JSON)

### ุฌุฏูู ุงูุฌูุณุงุช (user_sessions)
- `telegram_id` - ูุนุฑู ุงูุชููุฌุฑุงู
- `session_token` - ุฑูุฒ ุงูุฌูุณุฉ
- `created_at` - ุชุงุฑูุฎ ุงูุฅูุดุงุก
- `expires_at` - ุชุงุฑูุฎ ุงูุชูุงุก ุงูุตูุงุญูุฉ

## ุงูุฃูุงู

### ุญูุงูุฉ ุงูุจูุงูุงุช
- ุชุดููุฑ ุฑููุฒ ุงูุฌูุณุงุช
- ุงูุชูุงุก ุตูุงุญูุฉ ุงูุฌูุณุงุช ุจุนุฏ 30 ููู
- ุญุฏูุฏ ูุนุฏู ุงูุทูุจุงุช (Rate Limiting)

### ุงูุชุญูู ูู ุงููููุฉ
- ุงูุชุญูู ูู ุชููู ุงูุชููุฌุฑุงู
- ุฑุจุท ุงูุญุณุงุจุงุช ุจูุนุฑู ุงูุชููุฌุฑุงู ุงููุฑูุฏ
- ุญูุงูุฉ ูู ูุญุงููุงุช ุชุณุฌูู ุงูุฏุฎูู ุงููุชูุฑุฑุฉ

## ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ูุดุงูู ุดุงุฆุนุฉ

1. **ุงูุจูุช ูุง ูุณุชุฌูุจ**
   - ุชุญูู ูู ุตุญุฉ BOT_TOKEN
   - ุชุฃูุฏ ูู ุฃู ุงูุจูุช ููุนู ูุน @BotFather

2. **ูุดู ูู ุงูุงุชุตุงู ุจู API**
   - ุชุญูู ูู API_BASE_URL
   - ุชุฃูุฏ ูู ุชุดุบูู ุงูุฎุงุฏู ุงูุฎููู

3. **ูุดุงูู ูุงุนุฏุฉ ุงูุจูุงูุงุช**
   - ุชุญูู ูู ุตูุงุญูุงุช ุงููุชุงุจุฉ ูู ูุฌูุฏ ุงูุจูุช
   - ุงุญุฐู ููู bot_users.db ูุฃุนุฏ ุชุดุบูู ุงูุจูุช

### ุณุฌูุงุช ุงูุฃุฎุทุงุก
ูุชู ุญูุธ ุณุฌูุงุช ุงูุจูุช ูู ูุญุฏุฉ ุงูุชุญูู. ูุญูุธูุง ูู ููู:

```bash
python telegramBot.py > bot.log 2>&1
```

## ุงูุชุทููุฑ ูุงูุชุฎุตูุต

### ุฅุถุงูุฉ ุฃูุงูุฑ ุฌุฏูุฏุฉ
```python
async def new_command(update: Update, context: ContextTypes.DEFAULT_TYPE):
    await update.message.reply_text("ุฃูุฑ ุฌุฏูุฏ!")

# ุฅุถุงูุฉ ุงููุนุงูุฌ
application.add_handler(CommandHandler("new", new_command))
```

### ุชุฎุตูุต ุงูุฑุณุงุฆู
ุนุฏูู ุงูุฑุณุงุฆู ูู `bot_config.py` ูู ูุณู `MESSAGES`.

### ุฅุถุงูุฉ ุฅุดุนุงุฑุงุช ุฌุฏูุฏุฉ
```python
async def send_custom_notification(self, telegram_id: int, custom_data: dict):
    message = f"ุฅุดุนุงุฑ ูุฎุตุต: {custom_data['message']}"
    await self.send_notification(telegram_id, message, "custom")
```

## ุงูุฏุนู ูุงููุณุงููุฉ

ููุฅุจูุงุบ ุนู ูุดุงูู ุฃู ุงูุชุฑุงุญ ุชุญุณููุงุชุ ูุฑุฌู ุงูุชูุงุตู ูุน ูุฑูู ุงูุชุทููุฑ.

## ุงูุชุฑุฎูุต

ูุฐุง ุงููุดุฑูุน ููููู ููุฑูู SmartCoin ููุญูู ุจุญููู ุงูุทุจุน ูุงููุดุฑ.

