#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø¨ÙˆØª SmartCoin
"""

import os
from typing import Dict, Any

class BotConfig:
    """ÙØ¦Ø© Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¨ÙˆØª"""
    
    # Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¨ÙˆØª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©
    BOT_TOKEN = "7874091797:AAF4fic7zZchK9XORS4SWlpMADt3LW42Um8"
    BOT_USERNAME = "@SMAR1TCOINbot"
    
    # Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
    WEBAPP_URL = "https://esm-e3c3.vercel.app/"  # Ø³ÙŠØªÙ… ØªØ­Ø¯ÙŠØ«Ù‡ Ø¹Ù†Ø¯ Ø§Ù„Ù†Ø´Ø±
    API_BASE_URL = "http://localhost:3000/api"
    
    # Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
    DATABASE_PATH = os.path.join(os.path.dirname(__file__), 'bot_users.db')
    
    # Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª
    NOTIFICATION_SETTINGS = {
        'throttle_minutes': 5,  # Ù…Ù†Ø¹ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø£ÙƒØ«Ø± Ù…Ù† Ù…Ø±Ø© ÙƒÙ„ 5 Ø¯Ù‚Ø§Ø¦Ù‚
        'max_notifications_per_day': 10,  # Ø­Ø¯ Ø£Ù‚ØµÙ‰ 10 Ø¥Ø´Ø¹Ø§Ø±Ø§Øª ÙŠÙˆÙ…ÙŠØ§Ù‹
        'quiet_hours': {
            'start': 22,  # Ø¨Ø¯Ø§ÙŠØ© Ø³Ø§Ø¹Ø§Øª Ø§Ù„Ù‡Ø¯ÙˆØ¡ (10 Ù…Ø³Ø§Ø¡Ù‹)
            'end': 8      # Ù†Ù‡Ø§ÙŠØ© Ø³Ø§Ø¹Ø§Øª Ø§Ù„Ù‡Ø¯ÙˆØ¡ (8 ØµØ¨Ø§Ø­Ø§Ù‹)
        }
    }
    
    # Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ø¨ÙˆØª
    MESSAGES = {
        'welcome': """
ðŸŒŸ Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ SmartCoin! ðŸŒŸ

Ø£Ù‡Ù„Ø§Ù‹ {first_name}! ðŸ‘‹

ðŸš€ **SmartCoin** Ù‡ÙŠ Ù…Ù†ØµØ© Ø§Ù„Ø¹Ù…Ù„Ø§Øª Ø§Ù„Ø±Ù‚Ù…ÙŠØ© Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„ÙŠØ© Ø¨Ø¯Ø¹Ù… Ø±Ø£Ø³ Ù…Ø§Ù„ 350 Ù…Ù„ÙŠÙˆÙ† Ø¯ÙˆÙ„Ø§Ø±!

ðŸ’Ž **Ù…Ø§ ÙŠÙ…ÙƒÙ†Ùƒ ÙØ¹Ù„Ù‡:**
â€¢ ðŸ”¨ Ø§Ù„ØªØ¹Ø¯ÙŠÙ† Ø§Ù„ÙŠÙˆÙ…ÙŠ Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø¹Ù…Ù„Ø§Øª Ù…Ø¬Ø§Ù†ÙŠØ©
â€¢ ðŸŽ¯ Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„Ù…Ù‡Ø§Ù… ÙˆØ§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù…ÙƒØ§ÙØ¢Øª
â€¢ ðŸŽ° ØªØ¯ÙˆÙŠØ± Ø¹Ø¬Ù„Ø© Ø§Ù„Ø­Ø¸
â€¢ ðŸ‘¥ Ø¯Ø¹ÙˆØ© Ø§Ù„Ø£ØµØ¯Ù‚Ø§Ø¡ ÙˆØ§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù…ÙƒØ§ÙØ¢Øª Ø§Ù„Ø¥Ø­Ø§Ù„Ø©
â€¢ ðŸ›’ Ø´Ø±Ø§Ø¡ Ø­Ø²Ù… Ø§Ù„ØªØ¹Ø¯ÙŠÙ† Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©

ðŸ”— **Ø§Ø¨Ø¯Ø£ Ø±Ø­Ù„ØªÙƒ Ø§Ù„Ø¢Ù†:**
        """,
        
        'login_success': "âœ… ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„Ùƒ Ø¨Ù†Ø¬Ø§Ø­! ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø¢Ù† Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¬Ù…ÙŠØ¹ Ù…ÙŠØ²Ø§Øª SmartCoin.",
        'login_failed': "âŒ ÙØ´Ù„ ÙÙŠ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.",
        'logout_success': "âœ… ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬Ùƒ Ø¨Ù†Ø¬Ø§Ø­!",
        'already_logged_in': "âœ… Ø£Ù†Øª Ù…Ø³Ø¬Ù„ Ø¯Ø®ÙˆÙ„ Ø¨Ø§Ù„ÙØ¹Ù„!\n\nðŸš€ Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ø²Ø± Ø£Ø¯Ù†Ø§Ù‡ Ù„ÙØªØ­ SmartCoin:",
        
        'help': """
ðŸ†˜ **Ù…Ø³Ø§Ø¹Ø¯Ø© SmartCoin:**

ðŸ“‹ **Ø§Ù„Ø£ÙˆØ§Ù…Ø± Ø§Ù„Ù…ØªØ§Ø­Ø©:**
â€¢ `/start` - Ø¨Ø¯Ø¡ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¨ÙˆØª
â€¢ `/login` - ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
â€¢ `/logout` - ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬
â€¢ `/stats` - Ø¹Ø±Ø¶ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª

ðŸš€ **Ù„Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚:**
Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø²Ø± "ÙØªØ­ SmartCoin" Ø£Ùˆ Ø§Ù„Ø£Ù…Ø± `/start`

ðŸ’¬ **Ù„Ù„Ø¯Ø¹Ù…:**
ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§ Ø¹Ø¨Ø± Ù‚Ù†Ø§Ø© Ø§Ù„Ø¯Ø¹Ù… Ø§Ù„ÙÙ†ÙŠ
        """,
        
        'stats_template': """
ðŸ“Š **Ø¥Ø­ØµØ§Ø¦ÙŠØ§ØªÙƒ ÙÙŠ SmartCoin:**

ðŸ’° **Ø§Ù„Ø±ØµÙŠØ¯:** {balance} SM
ðŸ”¨ **Ù…Ø±Ø§Øª Ø§Ù„ØªØ¹Ø¯ÙŠÙ†:** {mining_count}
ðŸŽ¯ **Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„Ù…ÙƒØªÙ…Ù„Ø©:** {completed_tasks}
ðŸ‘¥ **Ø§Ù„Ø¥Ø­Ø§Ù„Ø§Øª:** {referrals}
ðŸ† **Ø§Ù„Ù…Ø³ØªÙˆÙ‰:** {level}
        """,
        
        'mining_notification': "ðŸ”¨ **ØªÙ… Ø§Ù„ØªØ¹Ø¯ÙŠÙ† Ø¨Ù†Ø¬Ø§Ø­!**\n\nðŸ’° Ø­ØµÙ„Øª Ø¹Ù„Ù‰ {amount} Ø¹Ù…Ù„Ø© SM\n\nðŸš€ Ø§Ø³ØªÙ…Ø± ÙÙŠ Ø§Ù„ØªØ¹Ø¯ÙŠÙ† ÙŠÙˆÙ…ÙŠØ§Ù‹ Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø²ÙŠØ¯!",
        'referral_notification': "ðŸ‘¥ **Ø¥Ø­Ø§Ù„Ø© Ø¬Ø¯ÙŠØ¯Ø©!**\n\nðŸŽ‰ Ø§Ù†Ø¶Ù… {referral_name} Ø¹Ø¨Ø± Ø±Ø§Ø¨Ø· Ø§Ù„Ø¥Ø­Ø§Ù„Ø© Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ\nðŸ’° Ø­ØµÙ„Øª Ø¹Ù„Ù‰ {bonus} Ø¹Ù…Ù„Ø© SM ÙƒÙ…ÙƒØ§ÙØ£Ø©\n\nðŸ”— Ø´Ø§Ø±Ùƒ Ø±Ø§Ø¨Ø·Ùƒ Ù…Ø¹ Ø§Ù„Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„Ø£ØµØ¯Ù‚Ø§Ø¡!",
        'task_notification': "ðŸŽ¯ **Ù…Ù‡Ù…Ø© Ù…ÙƒØªÙ…Ù„Ø©!**\n\nâœ… Ø£ÙƒÙ…Ù„Øª Ù…Ù‡Ù…Ø©: {task_name}\nðŸ’° Ø­ØµÙ„Øª Ø¹Ù„Ù‰ {reward} Ø¹Ù…Ù„Ø© SM\n\nðŸ† ØªØ§Ø¨Ø¹ Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„Ù…Ù‡Ø§Ù… Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„Ù…ÙƒØ§ÙØ¢Øª!"
    }
    
    # Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø£Ù…Ø§Ù†
    SECURITY = {
        'session_timeout_days': 30,
        'max_login_attempts': 5,
        'rate_limit_per_minute': 20
    }
    
    @classmethod
    def get_message(cls, key: str, **kwargs) -> str:
        """Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø±Ø³Ø§Ù„Ø© Ù…Ø¹ ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª"""
        message = cls.MESSAGES.get(key, "")
        if kwargs:
            return message.format(**kwargs)
        return message
    
    @classmethod
    def update_webapp_url(cls, new_url: str):
        """ØªØ­Ø¯ÙŠØ« Ø±Ø§Ø¨Ø· Ø§Ù„ØªØ·Ø¨ÙŠÙ‚"""
        cls.WEBAPP_URL = new_url
    
    @classmethod
    def update_api_url(cls, new_url: str):
        """ØªØ­Ø¯ÙŠØ« Ø±Ø§Ø¨Ø· API"""
        cls.API_BASE_URL = new_url

